<html>

<body>
    <p>
        Search :
        <input type="text" id="searchString">
        <button onclick="addSearchString()"> Add </button>
        <div id="searchStringsCheckBoxTable"></div>
</body>

<script>
    var searchStrings = []
    function addSearchString() {
        searchString = document.getElementById("searchString").value
        for (i in searchStrings) {
            if (searchStrings[i][0] == searchString) return
        }
        if (searchString.length != 0) {
            searchStrings.push([searchString, 'checked'])
            updateSearchStringsCheckBox()
        }
    }
    
    function updateSearchStringCheckBox(checked, index) {
        console.log("updateSearchStringCheckBox = " + checked + index)
        if (checked) {
            searchStrings[index][1] = "checked"
        }
        else {
            searchStrings[index][1] = ""
        }
    }
    
    function getOneSearchStringCheckBox(index, searchString) {
        var oneSearchStringOutput = "<input type='checkbox' id = 'searchStringCheckBox_" + index + "' " + searchString[1] + 
        " onclick = 'updateSearchStringCheckBox(this.checked, " + index + ")' > " + searchString[0]
        console.log(oneSearchStringOutput)
        return oneSearchStringOutput
    }
    function updateSearchStringsCheckBox() {
        var searchStringsOutput = []
        
        searchStringsOutput.push("<table>")
        for (i in searchStrings) {
            searchStringsOutput.push("<tr>")
            searchStringsOutput.push("<td>" + getOneSearchStringCheckBox(i, searchStrings[i]) + "</td>")
            searchStringsOutput.push("</tr>")
        }
        searchStringsOutput.push("</table>")
        document.getElementById("searchStringsCheckBoxTable").innerHTML = searchStringsOutput.join("")
    }

</script>

</html>